<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Interactive Map - ITCU</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
    <!-- PDF.js library -->
<script src="https://mozilla.github.io/pdf.js/build/pdf.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body { height: 100%; font-family: Arial, sans-serif; background-color: #c8e6f5; overflow: hidden; }

    /* ===== BUTTON CONTAINER ===== */
    #topButtons {
      position: fixed;
      top: 15px;
      right: 15px;
      display: flex;
      gap: 10px; /* equal spacing between buttons */
      z-index: 1001;
    }

    /* ===== INDIVIDUAL BUTTONS ===== */
    .map-btn {
      padding: 10px 16px;
      border: none;
      border-radius: 8px;
      color: white;
      font-size: 14px;
      cursor: pointer;
      font-weight: 600;
      box-shadow: 0 2px 6px rgba(0,0,0,0.25);
      transition: all 0.25s ease;
      display: none; /* hidden until map loads */
    }

    /* ===== COLORS ===== */
    #homeBtn {
      background-color: #4CAF50; /* green */
    }
    #homeBtn:hover { background-color: #3e8e41; }

    #unescoBtn {
      background-color: #9C27B0; /* purple */
    }
    #unescoBtn:hover { background-color: #7B1FA2; }

    #overviewBtn {
      background-color: #FF9800; /* orange */
    }
    #overviewBtn:hover { background-color: #F57C00; }

    #playBtn {
      background-color: #2196F3; /* blue */
    }
    #playBtn:hover { background-color: #1976D2; }

    #overviewOverlay {
  opacity: 0;
  transition: opacity 0.3s ease;
}
#overviewOverlay[style*="display: flex"] {
  opacity: 1;
}

#unescoOverlay {
  opacity: 0;
  transition: opacity 0.3s ease;
}
#unescoOverlay[style*="display: flex"] {
  opacity: 1;
}



    /* ===== LANDING PAGE ===== */
    .landing {
      position: fixed;
      inset: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      background: #000;
      cursor: pointer;
      overflow: hidden;
      z-index: 1000;
    }

    .landing::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100vw;
      height: 56.25vw;
      max-height: 100vh;
      transform: translate(-50%, -50%);

      z-index: -1;
    }

    .overlay {
      position: absolute;
      inset: 0;
      background: rgba(0, 0, 0, 0.4);
    }

    .landing-content {
      position: relative;
      color: white;
      text-align: center;
      z-index: 1;
      padding: 20px;
    }

    .landing-content h1 { font-size: 2.5rem; margin-bottom: 10px; }
    .landing-content p { font-size: 1.2rem; }

    @media (max-aspect-ratio: 16/9) {
      .landing::before { width: 177.78vh; height: 100vh; }
    }

    /* ===== MAP SECTION ===== */
    #map { height: 100%; width: 100%; display: none; background-color: #c8e6f5; }

    .popup-content { font-size: 14px; line-height: 1.5; }
    table { width: 100%; border-collapse: collapse; margin-top: 5px; }
    th, td { border: 1px solid #ddd; padding: 4px 6px; text-align: left; }
    th { background-color: #f4f4f4; }
    .popup-content h3 { margin-bottom: 6px; color: #007bff; }

    .leaflet-control-fullscreen {
      background: rgba(0,0,0,0.6);
      color: white;
      font-size: 18px;
      width: 32px;
      height: 32px;
      line-height: 32px;
      text-align: center;
      border-radius: 4px;
      cursor: pointer;
      user-select: none;
    }
    .leaflet-control-fullscreen:hover { background: rgba(0,0,0,0.8); }

    /* ===== GAME SECTION ===== */
    #game-section {
      display: none;
      background: #f0f4f8;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .game-container {
      background: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
      width: 350px;
      text-align: center;
    }
    .option {
      display: block;
      background: #e0e7ff;
      border: none;
      margin: 8px 0;
      padding: 10px;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.2s;
    }
    .option:hover { background: #c7d2fe; }
    .hidden { display: none; }
    .result { font-weight: bold; font-size: 20px; margin-top: 20px; }
    .back-button {
      margin-top: 20px;
      background: #4f46e5;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.2s;
    }
    .back-button:hover { background: #4338ca; }
  </style>
</head>
<body>
  <!-- LANDING PAGE -->
  <div class="landing" id="landing">
    <div class="overlay"></div>
    <div class="landing-content">
      <img src="landingpage.webp" width="650px" height="1150px" alt="landingpage"> 
    </div>
  </div>

  <!-- MAP -->
  <div id="map"></div>

  <!-- ===== BUTTONS ===== -->
  <div id="topButtons">
    <button id="homeBtn" class="map-btn">üè† Home</button>
    <button id="unescoBtn" class="map-btn">üèõ UNESCO Open Science</button>
    <button id="overviewBtn" class="map-btn">üåç Overview</button>
    <button id="playBtn" class="map-btn">üïπÔ∏è Play</button>
  </div>



<!-- UNESCO IMAGE OVERLAY -->
<div id="unescoOverlay" style="
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: none;
  justify-content: center;
  align-items: flex-start; /* top align for scrolling */
  z-index: 2000;
  overflow-y: auto;
  padding: 20px;
">

  <!-- Close button fixed -->
  <span id="closeUnesco" style="
    position: fixed;
    top: 20px;
    right: 30px;
    color: white;
    font-size: 30px;
    font-weight: bold;
    cursor: pointer;
    z-index: 2100;
  ">&times;</span>

  <!-- Images container -->
  <div style="
    max-width: 70%;
    margin: 60px auto 20px auto; /* top margin to avoid overlapping with X */
    display: flex;
    flex-direction: column;
    gap: 20px;
    align-items: center;
  " id="unescoImages">
      
    <img src="UNESCO_001.jpg" alt="UNESCO 1"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_002.jpg" alt="UNESCO 2"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_003.jpg" alt="UNESCO 3"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_004.jpg" alt="UNESCO 4"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_005.jpg" alt="UNESCO 5"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_006.jpg" alt="UNESCO 6"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_007.jpg" alt="UNESCO 7"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_008.jpg" alt="UNESCO 8"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_009.jpg" alt="UNESCO 9"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_010.jpg" alt="UNESCO 10"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_011.jpg" alt="UNESCO 11"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_012.jpg" alt="UNESCO 12"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_013.jpg" alt="UNESCO 13"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_014.jpg" alt="UNESCO 14"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_015.jpg" alt="UNESCO 15"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_016.jpg" alt="UNESCO 16"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_017.jpg" alt="UNESCO 17"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_018.jpg" alt="UNESCO 18"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_019.jpg" alt="UNESCO 19"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_020.jpg" alt="UNESCO 20"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_021.jpg" alt="UNESCO 21"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_022.jpg" alt="UNESCO 22"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_023.jpg" alt="UNESCO 23"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_024.jpg" alt="UNESCO 24"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_025.jpg" alt="UNESCO 25"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_026.jpg" alt="UNESCO 26"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_027.jpg" alt="UNESCO 27"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_028.jpg" alt="UNESCO 28"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_029.jpg" alt="UNESCO 29"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_030.jpg" alt="UNESCO 30"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_031.jpg" alt="UNESCO 31"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_032.jpg" alt="UNESCO 32"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_033.jpg" alt="UNESCO 33"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_034.jpg" alt="UNESCO 34"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_035.jpg" alt="UNESCO 35"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">
      <img src="UNESCO_036.jpg" alt="UNESCO 36"  style="max-width: 90%; max-height: 90%; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.5);">


    <!-- add more images here -->
  </div>
</div>




  <!-- OVERVIEW OVERLAY -->
<div id="overviewOverlay" style="
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2000;
">
  <img src="overview.webp" alt="Overview" style="
    max-width: 90%;
    max-height: 90%;
    border-radius: 10px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.5);
  ">
  <span id="closeOverview" style="
    position: absolute;
    top: 20px;
    right: 30px;
    color: white;
    font-size: 30px;
    font-weight: bold;
    cursor: pointer;
  ">&times;</span>
</div>


  <!-- GAME SECTION -->
  <div id="game-section">
    <div class="game-container">
      <h1 id="question-text">Loading...</h1>
      <div id="options"></div>
      <div id="result" class="result hidden"></div>
      <button id="back-btn" class="back-button hidden">Back to Interactive Map</button>
    </div>
  </div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script>
    const landing = document.getElementById("landing");
    const mapDiv = document.getElementById("map");
    const topButtons = document.getElementById("topButtons");
    const homeBtn = document.getElementById("homeBtn");
    const playBtn = document.getElementById("playBtn");

    landing.addEventListener("click", () => {
      landing.style.display = "none";
      mapDiv.style.display = "block";
      topButtons.querySelectorAll(".map-btn").forEach(btn => btn.style.display = "block");
      map.invalidateSize();
    });

    homeBtn.addEventListener("click", () => {
      landing.style.display = "flex";
      mapDiv.style.display = "none";
      topButtons.querySelectorAll(".map-btn").forEach(btn => btn.style.display = "none");
    });


    // ===== MAP INITIALIZATION =====
    const map = L.map('map', { worldCopyJump: false, noWrap: true, minZoom: 2, maxZoom: 6 }).setView([20, 0], 3);

    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png', {
      maxZoom: 6, minZoom: 2, noWrap: true
    }).addTo(map);
    L.tileLayer('https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}.png', {
      maxZoom: 6, minZoom: 2, noWrap: true
    }).addTo(map);

    const allowedCountries = ['Italy','United Kingdom','Australia','Japan','United States of America','Canada','Cambodia','Laos','Myanmar','France','Taiwan','South Korea','Philippines','India','China','East Asia'];

     const shortInfo = {
      'Philippines': {capital: 'Manila',
                      impact:"The DOST actively engages with multilateral organizations which have aligned goals with the Department. To name a few: the United Nations (UN), Association of Southeast Asian Nations (ASEAN), and Asia-Pacific Economic Cooperation (APEC). Through the DOST's participation in these discussions and forums relating to STI, it is ensuring stronger representation thereby, for the Philippines, making sure that the Philippines' milestones, undertakings, and priorities are heard at the forefront of global discussion. Moreover, with the Filipinos' STI expertise, the DOST recognizes the potential of the Philippines in elevating standing in the international community and engaging with various partners across the globe. While multilateral engagements primarily focus on the Philippines' substantive representation to various fora and discussions, the underlying drive is the crafting, implementation, or realignment of existing policies with global standards. Similarly, the DOST'S inputs, positions, nominations/endorsements, and comments to relevant foreign policy papers shape PH and global policy that contribute to the collective development.", 
                      multilateral:"<br>¬∑ Resource Generation - project partners and collaborating institutions have also generously donated research tools and equipment <br>¬∑ Non-monetary assistance to project proponents - Project Management, Networking Opportunities, Sharing of Resources, Knowledge Sharing and Skills Training<br>¬∑ Knowledge Generation - Provides opportunity for Filipino scientists to work alongside international peers, leading to the development of new insights and innovative solutions<br>¬∑ Commitment to Research & Development Agenda - Engagement in international cooperation depicts the varying degrees of commitment of different partners and regions to the DOST research and development agendas like the Harmonized National Research and Development Agenda or HNRDA.<br>¬∑Capacity Building - The DOST initiates capacity building projects to enhance the expertise and knowledge of skilled professionals, expand the pool of experts, and improve the science and mathematics education of the country.<br></b>¬∑Impact to General Public/ National Interest <br>¬∑ First, access to cutting-edge technologies, research methodologies, and scientific knowledge that may not be readily available domestically.<br>¬∑ Second, DOST's collaborations with other nations and international organizations facilitate joint research initiatives to address pressing global challenges. These include public health crises, climate change, food security, disaster management, and more.<br>¬∑ Third, the Philippines becomes a more competitive player in the global science and technology landscape. This, in turn, attracts more international partnerships, investments, and collaborations, increasing the nation's scientific and technological reputation. Moreover, international science and technology collaborations open doors for economic growth by promoting innovation and research-based industries.<br>¬∑ Lastly, international cooperation can also be critical during times of crises. Sharing knowledge and resources through international networks can expedite humanitarian aid and disaster response efforts, helping the country better cope with emergencies and natural disasters.<br><br>Potential Impacts on the Economy and Society <br>¬∑ Economic Impacts <br>¬∑ Collaborative efforts with international partners often involve knowledge exchange, joint research projects, and the sharing of technological expertise. This, in turn, contributes to the development of cutting-edge technologies and innovation within the country, fostering a more competitive and dynamic economy.<br>¬∑ Businesses involved in science and technology partnerships with foreign entities have gained a competitive edge in international markets.<br>¬∑ Through the adoption of advanced technologies and best practices, domestic industries have been able to improve efficiency, reduce production costs, and enhance product quality. <br>¬∑ DOST's international S&T cooperation has often resulted in the establishment of joint ventures and partnerships between local and foreign companies<br>¬∑ Social Impacts<br>¬∑ Collaborative efforts often targeted sectors such as healthcare, agriculture, and education, resulting in the development and implementation of technologies that directly benefited communities.<br>¬∑ Collaborative research environments facilitated knowledge exchange, skill development, and cultural understanding among scientists, engineers, and other professionals.<br>¬∑ LGUs became key contributors to the successful implementation of projects within their communities. This involvement empowered local leaders to address specific societal needs, fostering a sense of ownership and sustainable development at the grassroots level. <br>¬∑ Breakthroughs and innovations resulting from international collaborations led to the development of products and services that directly impacted daily lives."},
      'United States of America': {capital: 'Washington, D.C.', detail: 'The partnership with the USA is on agriculture. We are sending PhD scholars to Texas Tech University taking up Plant and Soil Science', note: [['3','On-going','PHD']]},
      'Japan': {capital: 'Tokyo', detail: 'The top partnership with Japan is on agriculture and health. We are sending PhD scholars to Nagoya and Osaka University. We also have joint research projects in agriculture, health, engineering, and nuclear fields.',note: [['9','On-going','PHD']]},
      'France': {capital: 'Paris', detail: 'The partnership with France is on health, engineering, environment, agriculture, and economy. We are sending PhD scholars to Texas Tech University taking up Plant and Soil Science',note: [['97','On-going','MS'],['19','On-going','PHD']], univ:[['AIX-Marsielle University'],['Cote D Azur University'], ['Montpellier Supagro'],['National Museum of Natural History'],['Paul Sabatier University'],['Toulouse 1 Capitole University'],['University of Limoges'],['University of Paris-Saclay'],['University of Picardy Jules Verne'],['University of Strasbourg'],['University of Technology of Compiegne'],['University of Toulouse']]},
      'India': {capital: 'New Delhi', detail: 'The partnership with India focuses  on AI, engineering, and health. We have joint research projects in those areas and continues to advance other priority areas.',area: [['Artificial Intelligence','1'],['Enginnering','1'],['Health','1']]},
      'Australia': {capital: 'Canberra', detail: 'The top partnership with Australia is on STEM education, IT, and agriculture. We are sending MS and PhD scholars to various universities, e.g. James Cook University, Griffith University, and Queensland University of Technology. We also note that DOST-PCAARRD and  Australian Centre for International Agricultural Research have been partners for almost 5 decades advancing agricultural research in the PH.',note: [['17','Graduated','MS'],['11','On-going','MS'],['28','On-going','PHD']], univ:[['Griffith university'],['James Cook University'],['Queensland University of Technology'],['Royal Melbourne Institute of Technology University'],['Southern Cross University'],['University of Queensland']]},
      'United Kingdom': {capital: 'London', detail: 'The top partnership with UK is on health, environment, and agriculture. We are sending PhD scholars to various universities, e.g. Universities of Cambridge, Edinburgh, Glasgow, Sterling, etc. We also have joint research projects on health and environment. ',note: [['10','Graduated','PHD'],['5','On-going','PHD']], area:[['Climate and Weather','2'],['Environmental','2'],['Geological','3'],['Health','12']]},
      'Italy': {capital: 'Rome', detail: 'The partnership with Italy focuses on health. We are sending PhD scholars to the University of Trieste to pursue studies in Molecular Biomedicine.', note: [['2','Graduated','PHD'],['6','On-going','PHD']]},
      'Canada': {capital: 'Ottawa', detail: 'The partnership with Canada is on agriculture, health, engineering, and environment. We are sending PhD and MS scholars at University of Alberta. Soon scholars will also be attending at University of Saskatchewan and Dalhousie University.',note: [['1','Graduated','MS'],['6','On-going','MS'],['9','On-going','PHD']]},
      'China': {capital: 'Beijing', detail: 'The partnership with China focuses on energy, agriculture, and health. We have joint research projects in those areas and continues to advance other priority areas.',area: [['Agriculture','1'],['Enegry','1'],['Health','1']]},
      'South Korea': {capital: 'Seoul', detail: 'The top partnership with South Korea is on agriculture, climate and weather, energy, and health. We have joint in those areas and continues to advance other priorities.', area: [['Agriculture','1'],['Climate and Weather','1'],['Energy','1'],['Health','1']]},
      'Taiwan': {capital: 'Taipei', detail: 'The top partnership with Taiwan is on geological, environment, climate and weather, and health. WWe have numerous joint research projects, and students under the sandwich scholarship program with Taiwan. ',note: [['4','Finished','BS/MS'],['81','Finished','MS'],['20','Finished','PHD'],['4', 'Ongoing', 'MS']], area:[['Agriculture and Health','1'],['Agriculture','21'],['Agriculture and Health','2'],['Biological','2'],['Climate and Geological','1'],['Climate and Weather','11'],['Education','1'],['Energy','1'],['Engineering','3'],['Environmental','6'],['Geological','20'],['Health','20'],['Open','1']]},
      'Cambodia': {capital: 'Phnom Penh', detail: 'The partnership with ASEAN is very extensive under Committee on Science, Technology, and Innovation. One of the most notable partnership output is the technical cooperation ASEAN-CLM scholarship. In here, the Philippines is funding scholars from Cambodia, Lao, and Myanmar to study in the Philippines and bring back their knowledge in their country.',note: [['12','On-going','MS']], clm: [['DLSU-Manila','Chemistry, Computer Science, Chemical Engineering, Electronics and Communications, Engineering, Mechanical Engineering, Physics'],['UP-Diliman','Civil Engineering, Energy Engineering, Environment Engineering'],['UPLB','Agronomy, Agri. Engineering, Entomology, Environmental Science, Genetics, Horticulture, Natural Resources Conservation, Plant Breeding, Soil Science'],['UP-Manila','Clinal Medicine (OB-GYN and Family Medicine), Public Health (Environmental Health and Nutrition)']]},
      'Laos': {capital: 'Vientiane', detail: 'The partnership with ASEAN is very extensive under Committee on Science, Technology, and Innovation. One of the most notable partnership output is the technical cooperation ASEAN-CLM scholarship. In here, the Philippines is funding scholars from Cambodia, Lao, and Myanmar to study in the Philippines and bring back their knowledge in their country.',note: [['3','On-going','PHD'],['3','On-going','PHD']], clm: [['DLSU-Manila','Chemistry, Computer Science, Chemical Engineering, Electronics and Communications, Engineering, Mechanical Engineering, Physics'],['UP-Diliman','Civil Engineering, Energy Engineering, Environment Engineering'],['UPLB','Agronomy, Agri. Engineering, Entomology, Environmental Science, Genetics, Horticulture, Natural Resources Conservation, Plant Breeding, Soil Science'],['UP-Manila','Clinal Medicine (OB-GYN and Family Medicine), Public Health (Environmental Health and Nutrition)']]},
      'Myanmar': {capital: 'Naypyidaw', detail: 'The partnership with ASEAN is very extensive under Committee on Science, Technology, and Innovation. One of the most notable partnership output is the technical cooperation ASEAN-CLM scholarship. In here, the Philippines is funding scholars from Cambodia, Lao, and Myanmar to study in the Philippines and bring back their knowledge in their country.',note: [['15','On-going','PHD'],['17','On-going','PHD']],clm: [['DLSU-Manila','Chemistry, Computer Science, Chemical Engineering, Electronics and Communications, Engineering, Mechanical Engineering, Physics'],['UP-Diliman','Civil Engineering, Energy Engineering, Environment Engineering'],['UPLB','Agronomy, Agri. Engineering, Entomology, Environmental Science, Genetics, Horticulture, Natural Resources Conservation, Plant Breeding, Soil Science'],['UP-Manila','Clinal Medicine (OB-GYN and Family Medicine), Public Health (Environmental Health and Nutrition)']]}
    };

    let globalView = map.getCenter();
    let globalZoom = map.getZoom();

    fetch('https://cdn.jsdelivr.net/gh/johan/world.geo.json@master/countries.geo.json')
      .then(res => res.json())
      .then(data => {
        L.geoJSON(data, {
          style: f => allowedCountries.includes(f.properties.name)
            ? {color: '#007BFF', weight: 1.5, fillOpacity: 0.4}
            : {color: '#ccc', weight: 0.5, fillOpacity: 0.05},
          onEachFeature: (feature, layer) => {
            if (allowedCountries.includes(feature.properties.name)) {
              layer.on({
                mouseover: e => e.target.setStyle({color: '#FF6600', weight: 2}),
                mouseout: e => e.target.setStyle({color: '#007BFF', weight: 1.5}),
                click: e => {
                  map.flyToBounds(layer.getBounds(), {padding: [40, 40], duration: 1.5});
                  showPopup(feature, e.latlng);
                }
              });
            }
          }
        }).addTo(map);
      });



   function showPopup(feature, latlng) {
  const name = feature.properties.name;
  const info = shortInfo[name];

  let html = `<div class='popup-content'><h3>${name}</h3>`;

  /* ===== CAPITAL & DETAIL ===== */
  if (info.capital) {
    html += `<b>Capital:</b> ${info.capital}<br>`;
  }
  if (info.detail) {
    html += `<b>Details:</b> ${info.detail}<br><br>`;
  }

  /* =====  (e.g., Philippines) ===== */
  if (info.impact && info.impact.length > 0) {
    html += `<b>Overview: Multilateral Engagements</b> <div style="max-height:250px; overflow-y:auto; margin-bottom:10px;">${info.impact}<br><br>`;
  }
    if (info.multilateral && info.multilateral.length > 0) {
    html += `<b>Overview: Impact Assessment</b> <div style="max-height:250px; overflow-y:auto; margin-bottom:10px;">${info.multilateral}<br><br>`;
  }
     

  /* ===== NOTES TABLE ===== */
  if (info.note && info.note.length > 0) {
    html += `
      <b>Scholars:</b>
      <table>
        <tr><th>No. of Students</th><th>Status</th><th>Level</th></tr>
    `;
    info.note.forEach(([a, b, c]) => {
      html += `<tr><td>${a}</td><td>${b}</td><td>${c}</td></tr>`;
    });
    html += `</table><br>`;
  }

  /* ===== AREA TABLE ===== */
  if (info.area && info.area.length > 0) {
    html += `
      <b>Areas of Collaboration:</b>
      <table>
        <tr><th>Area of Study</th><th>No. of Projects</th></tr>
    `;
    info.area.forEach(([a, b]) => {
      html += `<tr><td>${a}</td><td>${b}</td></tr>`;
    });
    html += `</table><br>`;
  }

  /* ===== UNIVERSITY LIST ===== */
  if (info.univ && info.univ.length > 0) {
    html += `<b>Partner Universities:</b><ul>`;
    info.univ.forEach(([u]) => {
      html += `<li>${u}</li>`;
    });
    html += `</ul><br>`;
  }

  /* ===== CLM TABLE (Cambodia, Laos, Myanmar) ===== */
  if (info.clm && info.clm.length > 0) {
    html += `
      <b>CLM Program Partner Universities:</b>
      <table>
        <tr><th>University</th><th>Programs</th></tr>
    `;
    info.clm.forEach(([uni, programs]) => {
      html += `<tr><td>${uni}</td><td>${programs}</td></tr>`;
    });
    html += `</table><br>`;
  }

  html += `</div>`;

  L.popup({ maxWidth: 350 })
    .setLatLng(latlng)
    .setContent(html)
    .openOn(map);
}


    const fullscreenControl = L.control({ position: 'topleft' });

fullscreenControl.onAdd = function () {
  const div = L.DomUtil.create('div', 'leaflet-control-fullscreen');
  div.innerHTML = "‚õ∂"; // Expand icon
  div.title = "Toggle Fullscreen";

  div.onclick = function () {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
      div.innerHTML = "‚úñ"; // Exit icon
    } else {
      document.exitFullscreen();
      div.innerHTML = "‚õ∂"; // Expand icon
    }
  };

  return div;
};

fullscreenControl.addTo(map);




//======UNESCO BUTTON======
const unescoBtn = document.getElementById("unescoBtn");
const unescoOverlay = document.getElementById("unescoOverlay");
const closeUnesco = document.getElementById("closeUnesco");

unescoBtn.addEventListener("click", () => {
  unescoOverlay.style.display = "flex";
});

closeUnesco.addEventListener("click", () => {
  unescoOverlay.style.display = "none";
});

// Optional: click outside the content to close overlay
unescoOverlay.addEventListener("click", (e) => {
  if (e.target === unescoOverlay) {
    unescoOverlay.style.display = "none";
  }
});


// ===== OVERVIEW BUTTON =====
const overviewBtn = document.getElementById("overviewBtn");
const overviewOverlay = document.getElementById("overviewOverlay");
const closeOverview = document.getElementById("closeOverview");

overviewBtn.addEventListener("click", () => {
  overviewOverlay.style.display = "flex"; // show overlay
});

closeOverview.addEventListener("click", () => {
  overviewOverlay.style.display = "none"; // close overlay
});

// Allow clicking outside the image to close too
overviewOverlay.addEventListener("click", (e) => {
  if (e.target === overviewOverlay) {
    overviewOverlay.style.display = "none";
  }
});

    // ===== GAME SECTION LOGIC =====
    const gameSection = document.getElementById("game-section");
    const backBtn = document.getElementById("back-btn");
    const resultDiv = document.getElementById("result");
    let selectedQuestions = [], current = 0, score = 0;

   const questions = [
  { question: "What is the acronym of DOST?", options: ["Department of Science Technology", "Department of Signs and Techniques", "Department of Science and Technology", "Department of Skills and Training"], correct: 2},
  { question: "Which country does DOST collaborate with?", options: ["Haiti", "Egypt", "Iceland", "France"], correct: 3 },
  { question: "Which bilateral partner does Sandwich Scholarship Program?", options: ["Canada", "Taiwan", "India", "China"], correct: 1 },
  { question: "Which area of study does South Korea priorities?", options: ["Health", "Engineering", "Information Technology (IT)", "Nuclear"], correct: 0 },
  { question: "Which one is a country from Europe?", options: ["Maldives", "Indonesia", "Italy", "Canada"], correct: 2 },
  { question: "who is the Secretary of DOST?", options: ["Sec. Renato U. Solidum, Jr.", "Sec. Arthur T. Gumabao", "Sec. Leah J. Buendia", "Sec. Renato U. Solidum, Sr."], correct: 0 },
  { question: "What countries composes ASEAN CLM?", options: ["Cambodia-Lao PDR-Myanmar", "Canada-Laoag-Manila", "China-Lithuania-Malaysia", "Cambodia-Libia-Mexico"], correct: 0 },
  { question: "Which country has still monarchy?", options: ["Philippines", "Japan", "Singapore", "USA"], correct: 1 },
  { question: "NSTW 2025 is being held at?", options: ["Iloilo City", "Cagayan de Oro", "Manila", "Laoag City"], correct: 3 },
  { question: "What is the acronym of ITCU?", options: ["International Technology Commerce Unit", "International Technical Cooperation Division", "International Cooperation Unit", "International Technology Cooperation Unit"], correct: 3 },
];

    function getRandomQuestions() {
      let shuffled = [...questions].sort(() => 0.5 - Math.random());
      return shuffled.slice(0, 3);
    }

    function showQuestion() {
      const q = selectedQuestions[current];
      document.getElementById("question-text").textContent = `Q${current + 1}. ${q.question}`;
      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      q.options.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.textContent = `${String.fromCharCode(65 + i)}. ${opt}`;
        btn.className = "option";
        btn.onclick = () => checkAnswer(i);
        optionsDiv.appendChild(btn);
      });
    }

    function checkAnswer(selected) {
      const q = selectedQuestions[current];
      if (selected === q.correct) score++;
      current++;
      current < selectedQuestions.length ? showQuestion() : endGame();
    }

    function endGame() {
      document.getElementById("question-text").textContent = "Game Over!";
      document.getElementById("options").innerHTML = "";
      resultDiv.textContent = `Your score: ${score} / ${selectedQuestions.length}`;
      resultDiv.classList.remove("hidden");
      backBtn.classList.remove("hidden");
      backBtn.onclick = () => {
        mapDiv.style.display = "block";
        gameSection.style.display = "none";
        resultDiv.classList.add("hidden");
        backBtn.classList.add("hidden");
      };
    }

    playBtn.addEventListener("click", () => {
      mapDiv.style.display = "none";
      gameSection.style.display = "flex";
      selectedQuestions = getRandomQuestions();
      current = 0; score = 0;
      showQuestion();
    });
  </script>
</body>
</html>













